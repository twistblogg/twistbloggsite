import { usePost, PostMeta } from "@reflexjs/gatsby-theme-post"

export const FeaturedPosts = () => {
  // Retrieve and filter posts.
  const posts = usePost({ featured : true})
  return posts.length ? (
    <Section pb="4" pt="20">
        <Container>       
    <Grid col="1|1|2" gap="6|8">
      {posts &&
        posts.slice(0, 3).map((post, index) => (
          <Div key={index} bg="muted" borderRadius="2xl" p="2" mb="8">
            <Article>
              {post.image && (
                <Link href={post.slug} d="block">
                  <Image
                    src={post.image}
                    title={post.title}
                    alt={post.title}
                    rounded="md"
                    overflow="hidden"
                    height="250px"
                  />
                </Link>
              )}
              {post.title && (
                <Link href={post.slug}>
                  <H2
                    my="4"
                    fontFamily="body"
                    lineHeight="normal"
                    fontWeight="semibold"
                    fontSize="2xl"
                    hoverColor="primary"
                    pr="4"
                    pl="4"
                  >
                    {post.title}
                  </H2>
                </Link>
              )}
            </Article>
          </Div>
        ))}
    </Grid>
   </Container>
  </Section>  
  ) : null
}